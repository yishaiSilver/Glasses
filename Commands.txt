# Path to checkpoint file.
# Notice there's no data-00000-of-00001 in the CHECKPOINT_PATH environment variable
# Also make sure you place model.ckpt-2000000.index (which is cloned from the repository)
# in the same location as model.ckpt-2000000.data-00000-of-00001
# You can use model.ckpt-1000000.data-00000-of-00001 similarly
CHECKPOINT_PATH="model.ckpt-2000000"

# Vocabulary file generated by the preprocessing script.
# Since the tokenizer could be of a different version, use the word_counts.txt file supplied. 
VOCAB_FILE="word_counts.txt"

# JPEG image file to caption.
IMAGE_FILE="image.JPEG"
# Build the inference binary.
bazel build -c opt //im2txt/run_inference

# Run inference to generate captions.
bazel-bin/im2txt/run_inference.exe --checkpoint_path="model2.ckpt-2000000" --vocab_file="word_counts.txt" --input_files="image.JPEG"

python run_inference.py --checkpoint_path="model2.ckpt-2000000" --vocab_file="word_counts.txt" --input_files="./images/image.jpg"